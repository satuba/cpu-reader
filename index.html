<!DOCTYPE>
<html>
  <head>
    <title>CPU READER</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  </head>
  <body>
  	<ul>
  		<li>Maximum speed: <span id="maxSpeed"></span></li>
  		<li>Sockets: <span id="sockets"></span></li>
  		<li>Cores: <span id="cores"></span></li>
  		<li>Logical Processors: <span id="logProcessors"></span></li>
  		<li>Virtualization: <span id="virtualization"></span></li>
  	</ul>
    <table>
    	<tr>
    		<td>Utilization</td>
    		<td id="utilization"></td>
    	</tr>
    	<tr>
    		<td>Speed</td>
    		<td id="speed"></td>
    	</tr>
    	<tr>
    		<td>Process</td>
    		<td id="process"></td>
    	</tr>
    	<tr>
    		<td>Threads</td>
    		<td id="threads"></td>
    	</tr>
    	<tr>
    		<td>Handles</td>
    		<td id="handles"></td>
    	</tr>
    </table>
    <p id="graph"></p>
    <script id="data" type="application/json" src="result.json"></script>
    <script type="text/javascript">

      // $.getJSON("./result.json", function( data ) {
      //   var items = [];
      //   console.log('getJSON success!');
      //   $.each( data, function( key, val ) {
      //     items.push( "<li id='" + key + "'>" + val + "</li>" );
      //     console.log('push success!');
      //   });
       
      //   $( "<ul/>", {
      //     "class": "my-new-list",
      //     html: items.join( "" )
      //   }).appendTo( "body" );
      // });

      //var data = JSON.parse();
      //console.log(JSON.parse($("#data").html()));
      //console.log('test');
      var obj = $.parseJSON($("#data").html());
      d3.selectAll("td").style("color", "blue");
      console.log('test lalalal');

      console.log('again');
      var vis = d3.select("#graph")
            .append("svg");
      var w = 900, h = 400;
      vis.attr("width", w)
        .attr("height", h)
        .text("The Graph")
        .select("#graph");

      var nodes = [{x: 30, y: 50},
              {x: 50, y: 80},
              {x: 90, y: 120}];

      vis.selectAll("circle .nodes")
        .data(nodes)
        .enter()
        .append("svg:circle")
        .attr("class", "nodes")
        .attr("cx", function(d) { return d.x; })
        .attr("cy", function(d) { return d.y; })
        .attr("r", "10px")
        .attr("fill", "black")

      var links = [
        {source: nodes[0], target: nodes[1]},
        {source: nodes[2], target: nodes[1]}
      ];

      vis.selectAll(".line")
        .data(links)
        .enter()
        .append("line")
        .attr("x1", function(d) { return d.source.x })
        .attr("y1", function(d) { return d.source.y })
        .attr("x2", function(d) { return d.target.x })
        .attr("y2", function(d) { return d.target.y })
        .style("stroke", "rgb(6,120,155)");

    </script>
  </body>
</html>